{"ast":null,"code":"const API_URL = 'http://localhost:3001';\nconst TRANSACOES_URI = `${API_URL}/transacoes`;\nconst CONTA_URI = `${API_URL}/conta`;\n\nconst conecta = (uri, options = {}) => {\n  return fetch(uri, options).then(async resposta => {\n    if (resposta.ok) {\n      const dados = await resposta.json();\n      return dados;\n    }\n\n    console.log(resposta);\n    throw new Error(resposta);\n  });\n};\n\nconst listaTransacoes = () => conecta(TRANSACOES_URI);\n\nconst buscaSaldo = () => conecta(CONTA_URI).then(dados => dados.saldo);\n\nconst atualizaSaldo = saldo => conecta(CONTA_URI, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8'\n  },\n  body: JSON.stringify({\n    saldo\n  })\n});\n\nconst atualizaTransacoes = dados => conecta(TRANSACOES_URI, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8'\n  },\n  body: JSON.stringify(dados)\n});\n\nexport default {\n  listaTransacoes,\n  buscaSaldo,\n  atualizaSaldo,\n  atualizaTransacoes\n};","map":{"version":3,"sources":["/home/j/Documentos/GitHub/Treinamento-TDD-React/src/api/index.js"],"names":["API_URL","TRANSACOES_URI","CONTA_URI","conecta","uri","options","fetch","then","resposta","ok","dados","json","console","log","Error","listaTransacoes","buscaSaldo","saldo","atualizaSaldo","method","headers","body","JSON","stringify","atualizaTransacoes"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAhB;AACA,MAAMC,cAAc,GAAI,GAAED,OAAQ,aAAlC;AACA,MAAME,SAAS,GAAI,GAAEF,OAAQ,QAA7B;;AAEA,MAAMG,OAAO,GAAG,CAACC,GAAD,EAAMC,OAAO,GAAG,EAAhB,KAAuB;AACrC,SAAOC,KAAK,CAACF,GAAD,EAAMC,OAAN,CAAL,CAAoBE,IAApB,CAAyB,MAAOC,QAAP,IAAoB;AAClD,QAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,YAAMC,KAAK,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAApB;AACA,aAAOD,KAAP;AACD;;AAEDE,IAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,UAAM,IAAIM,KAAJ,CAAUN,QAAV,CAAN;AACD,GARM,CAAP;AASD,CAVD;;AAYA,MAAMO,eAAe,GAAG,MAAMZ,OAAO,CAACF,cAAD,CAArC;;AAEA,MAAMe,UAAU,GAAG,MAAMb,OAAO,CAACD,SAAD,CAAP,CAAmBK,IAAnB,CAAwBG,KAAK,IAAIA,KAAK,CAACO,KAAvC,CAAzB;;AAEA,MAAMC,aAAa,GAAID,KAAD,IAAWd,OAAO,CAACD,SAAD,EAAY;AAClDiB,EAAAA,MAAM,EAAE,MAD0C;AAElDC,EAAAA,OAAO,EAAE;AAAC,oBAAgB;AAAjB,GAFyC;AAGlDC,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACN,IAAAA;AAAD,GAAf;AAH4C,CAAZ,CAAxC;;AAMA,MAAMO,kBAAkB,GAAId,KAAD,IAAWP,OAAO,CAACF,cAAD,EAAiB;AAC5DkB,EAAAA,MAAM,EAAE,MADoD;AAE5DC,EAAAA,OAAO,EAAE;AAAC,oBAAgB;AAAjB,GAFmD;AAG5DC,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,KAAf;AAHsD,CAAjB,CAA7C;;AAMA,eAAe;AACbK,EAAAA,eADa;AAEbC,EAAAA,UAFa;AAGbE,EAAAA,aAHa;AAIbM,EAAAA;AAJa,CAAf","sourcesContent":["const API_URL = 'http://localhost:3001';\nconst TRANSACOES_URI = `${API_URL}/transacoes`;\nconst CONTA_URI = `${API_URL}/conta`;\n\nconst conecta = (uri, options = {}) => {\n  return fetch(uri, options).then(async (resposta) => {\n    if (resposta.ok) {\n      const dados = await resposta.json();\n      return dados;\n    }\n\n    console.log(resposta)\n    throw new Error(resposta);\n  })\n}\n\nconst listaTransacoes = () => conecta(TRANSACOES_URI);\n\nconst buscaSaldo = () => conecta(CONTA_URI).then(dados => dados.saldo);\n\nconst atualizaSaldo = (saldo) => conecta(CONTA_URI, {\n  method: 'POST',\n  headers: {'Content-Type': 'application/json;charset=utf-8'},\n  body: JSON.stringify({saldo}),\n});\n\nconst atualizaTransacoes = (dados) => conecta(TRANSACOES_URI, {\n  method: 'POST',\n  headers: {'Content-Type': 'application/json;charset=utf-8'},\n  body: JSON.stringify(dados),\n});\n\nexport default {\n  listaTransacoes,\n  buscaSaldo,\n  atualizaSaldo,\n  atualizaTransacoes,\n};\n"]},"metadata":{},"sourceType":"module"}